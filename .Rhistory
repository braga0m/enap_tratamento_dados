(Mandato_parcial == 'Dilma Rousseff I'| Mandato_parcial == 'Dilma Rousseff I') ~ 'Dilma',
(Mandato_parcial == 'Michel Temer') ~ 'Temer',
(Mandato_parcial == 'Itamar Franco') ~ 'Itamar Franco',
(Mandato_parcial == 'Jair Bolsonaro') ~ 'Bolsonaro',
(Mandato_parcial == 'José Sarney') ~ 'Sarney',
(Mandato_parcial == 'Fernando Collor') ~ 'Collor')
View(dados)
dados%>%
mutate(Mandato_completo = case_when(
(Mandato_parcial == 'Fernando Henrique Cardoso I'| Mandato_parcial == 'Fernando Henrique Cardoso I')~'FHC',
(Mandato_parcial == 'Luiz Inácio Lula da Silva I'| Mandato_parcial == 'Luiz Inácio Lula da Silva II')~ 'Lula',
(Mandato_parcial == 'Dilma Rousseff I'| Mandato_parcial == 'Dilma Rousseff I') ~ 'Dilma',
(Mandato_parcial == 'Michel Temer') ~ 'Temer',
(Mandato_parcial == 'Itamar Franco') ~ 'Itamar Franco',
(Mandato_parcial == 'Jair Bolsonaro') ~ 'Bolsonaro',
(Mandato_parcial == 'José Sarney') ~ 'Sarney',
(Mandato_parcial == 'Fernando Collor') ~ 'Collor'))
x <- dados%>%
mutate(Mandato_completo = case_when(
(Mandato_parcial == 'Fernando Henrique Cardoso I'| Mandato_parcial == 'Fernando Henrique Cardoso I')~'FHC',
(Mandato_parcial == 'Luiz Inácio Lula da Silva I'| Mandato_parcial == 'Luiz Inácio Lula da Silva II')~ 'Lula',
(Mandato_parcial == 'Dilma Rousseff I'| Mandato_parcial == 'Dilma Rousseff I') ~ 'Dilma',
(Mandato_parcial == 'Michel Temer') ~ 'Temer',
(Mandato_parcial == 'Itamar Franco') ~ 'Itamar Franco',
(Mandato_parcial == 'Jair Bolsonaro') ~ 'Bolsonaro',
(Mandato_parcial == 'José Sarney') ~ 'Sarney',
(Mandato_parcial == 'Fernando Collor') ~ 'Collor'))
View(x)
View(x)
x <- dados%>%
mutate(Mandato_completo = case_when(
(Mandato_parcial == 'Fernando Henrique Cardoso I'| Mandato_parcial == 'Fernando Henrique Cardoso II')~'FHC',
(Mandato_parcial == 'Luiz Inácio Lula da Silva I'| Mandato_parcial == 'Luiz Inácio Lula da Silva II')~ 'Lula',
(Mandato_parcial == 'Dilma Rousseff I'| Mandato_parcial == 'Dilma Rousseff I') ~ 'Dilma',
(Mandato_parcial == 'Michel Temer') ~ 'Temer',
(Mandato_parcial == 'Itamar Franco') ~ 'Itamar Franco',
(Mandato_parcial == 'Jair Bolsonaro') ~ 'Bolsonaro',
(Mandato_parcial == 'José Sarney') ~ 'Sarney',
(Mandato_parcial == 'Fernando Collor') ~ 'Collor'))
View(x)
View(x)
rm(x)
dados <- dados%>%
mutate(Mandato_completo = case_when(
(Mandato_parcial == 'Fernando Henrique Cardoso I'| Mandato_parcial == 'Fernando Henrique Cardoso II')~'FHC',
(Mandato_parcial == 'Luiz Inácio Lula da Silva I'| Mandato_parcial == 'Luiz Inácio Lula da Silva II')~ 'Lula',
(Mandato_parcial == 'Dilma Rousseff I'| Mandato_parcial == 'Dilma Rousseff II') ~ 'Dilma',
(Mandato_parcial == 'Michel Temer') ~ 'Temer',
(Mandato_parcial == 'Itamar Franco') ~ 'Itamar Franco',
(Mandato_parcial == 'Jair Bolsonaro') ~ 'Bolsonaro',
(Mandato_parcial == 'José Sarney') ~ 'Sarney',
(Mandato_parcial == 'Fernando Collor') ~ 'Collor'))
View(dados)
write_xlsx(dados,'Dataset_para_analises.xlsx')
if (!require("pacman")) install.packages("pacman")
pacman::p_load('tidyverse','readxl','data.table',
'writexl','lubridate','survival')
View(dados)
###análises
dados <- read_excel('Dataset_para_analises.xlsx')
View(dados)
#kaplan-meier - geral
dias <- dados%>%pull(Tempo_dias)
censura <- dados%>%pull(Censura)
ekm <- survfit(Surv(dias,censura)~1, conf.int = F)
plot(ekm,conf.int=F, xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier')
View(dados)
#área
area <- dados%>%pull(Área)
ekm <- survfit(Surv(dias,censura)~area, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier')
ekm <- survfit(Surv(dias,censura)~mandato, conf.int = F)
#mandato
mandato <- dados%>%pull(Mandato_completo)
ekm <- survfit(Surv(dias,censura)~mandato, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier')
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier')
unique(dados$Mandato_parcial)
?if_else
unique(dados$Mandato_completo)
unique(dados$Mandato_parcial)
inicio_mandatos <- c(as.Date('1985-03-15'),as.Date('1990-03-15'),as.Date('1992-12-29'),
as.Date('1995-01-01'),as.Date('1999-01-01'),as.Date('2003-01-01'),
as.Date('2007-01-01'),as.Date('2011-01-01'),as.Date('2015-01-01'),
as.Date('2016-08-31'),as.Date('2019-01-01'))
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato_parcial == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato_parcial == 'Fernando Collor',Data - inicio_mandatos[2],'2022-02-02'))
dados2 <- dados%>%
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato_parcial == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato_parcial == 'Fernando Collor',Data - inicio_mandatos[2])))
View(dados)
###dados
dados <- read_xlsx('LISTA_POLITICAS_20_04_2023.xlsx')
View(dados)
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato_parcial == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato_parcial == 'Fernando Collor',Data - inicio_mandatos[2])))
View(dados)
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2])))
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],0)))
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],FALSE)))
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],0)))
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],F)))
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],as.Date('2022-02-02'))))
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],NA)))
View(dados2)
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],
if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[3],
if_else(Mandato == 'Fernando Henrique Cardoso I',Data - inicio_mandatos[4],
if_else(Mandato == 'Fernando Henrique Cardoso II',Data - inicio_mandatos[5],
if_else(Mandato == 'Luiz Inácio Lula da Silva I',Data - inicio_mandatos[6],
if_else(Mandato == 'Luiz Inácio Lula da Silva II',Data - inicio_mandatos[7],
if_else(Mandato == 'Dilma Rousseff I',Data - inicio_mandatos[8],
if_else(Mandato == 'Dilma Rousseff II',Data - inicio_mandatos[9],
if_else(Mandato == 'Michel Temer',Data - inicio_mandatos[10],
if_else(Mandato == 'Jair Bolsonaro',Data - inicio_mandatos[11]
))))))))))))
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],
if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[3],
if_else(Mandato == 'Fernando Henrique Cardoso I',Data - inicio_mandatos[4],
if_else(Mandato == 'Fernando Henrique Cardoso II',Data - inicio_mandatos[5],
if_else(Mandato == 'Luiz Inácio Lula da Silva I',Data - inicio_mandatos[6],
if_else(Mandato == 'Luiz Inácio Lula da Silva II',Data - inicio_mandatos[7],
if_else(Mandato == 'Dilma Rousseff I',Data - inicio_mandatos[8],
if_else(Mandato == 'Dilma Rousseff II',Data - inicio_mandatos[9],
if_else(Mandato == 'Michel Temer',Data - inicio_mandatos[10],
if_else(Mandato == 'Jair Bolsonaro',Data - inicio_mandatos[11],NA
))))))))))))
View(dados2)
dados2 <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'José Sarney',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],
if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[3],
if_else(Mandato == 'Fernando Henrique Cardoso I',Data - inicio_mandatos[4],
if_else(Mandato == 'Fernando Henrique Cardoso II',Data - inicio_mandatos[5],
if_else(Mandato == 'Luiz Inácio Lula da Silva I',Data - inicio_mandatos[6],
if_else(Mandato == 'Luiz Inácio Lula da Silva II',Data - inicio_mandatos[7],
if_else(Mandato == 'Dilma Rousseff I',Data - inicio_mandatos[8],
if_else(Mandato == 'Dilma Rousseff II',Data - inicio_mandatos[9],
if_else(Mandato == 'Michel Temer',Data - inicio_mandatos[10],
if_else(Mandato == 'Jair Bolsonaro',Data - inicio_mandatos[11],NA
))))))))))))
View(dados2)
dados <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'José Sarney',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],
if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[3],
if_else(Mandato == 'Fernando Henrique Cardoso I',Data - inicio_mandatos[4],
if_else(Mandato == 'Fernando Henrique Cardoso II',Data - inicio_mandatos[5],
if_else(Mandato == 'Luiz Inácio Lula da Silva I',Data - inicio_mandatos[6],
if_else(Mandato == 'Luiz Inácio Lula da Silva II',Data - inicio_mandatos[7],
if_else(Mandato == 'Dilma Rousseff I',Data - inicio_mandatos[8],
if_else(Mandato == 'Dilma Rousseff II',Data - inicio_mandatos[9],
if_else(Mandato == 'Michel Temer',Data - inicio_mandatos[10],
if_else(Mandato == 'Jair Bolsonaro',Data - inicio_mandatos[11],NA))))))))))))
mutate(Censura = rep(1,531))%>%
select(-c(Política,Ano,Data))%>%
rename(Mandato_parcial = Mandato)
dados <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'José Sarney',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],
if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[3],
if_else(Mandato == 'Fernando Henrique Cardoso I',Data - inicio_mandatos[4],
if_else(Mandato == 'Fernando Henrique Cardoso II',Data - inicio_mandatos[5],
if_else(Mandato == 'Luiz Inácio Lula da Silva I',Data - inicio_mandatos[6],
if_else(Mandato == 'Luiz Inácio Lula da Silva II',Data - inicio_mandatos[7],
if_else(Mandato == 'Dilma Rousseff I',Data - inicio_mandatos[8],
if_else(Mandato == 'Dilma Rousseff II',Data - inicio_mandatos[9],
if_else(Mandato == 'Michel Temer',Data - inicio_mandatos[10],
if_else(Mandato == 'Jair Bolsonaro',Data - inicio_mandatos[11],NA))))))))))))%>%
mutate(Tempo_dias = as.numeric(Tempo_dias))%>%
mutate(Censura = rep(1,531))%>%
select(-c(Política,Ano,Data))%>%
rename(Mandato_parcial = Mandato)
View(dados)
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier')
#mandato parcial
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier')
View(dados)
dias <- dados%>%pull(Tempo_dias)
censura <- dados%>%pull(Censura)
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier')
unique(mandato2)
summary(dados$Tempo_dias)
dados%>%
arrange(n(Tempo_dias))
dados%>%
arrange(desc(Tempo_dias))
dados%>%
group_by(Mandato_parcial)%>%
summarize(n = n())
#área
area <- dados%>%pull(Área)
ekm <- survfit(Surv(dias,censura)~area, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier')
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)))
cores <- rainbow(11)
cores
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11),
col = cores))
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(0,0.25,lty=c(1,1),c(unique(dados$Mandato_parcial),col = cores))
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1700,0.9,lty=c(1,1),c(unique(dados$Mandato_parcial),col = cores))
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1400,0.9,lty=c(1,1),c(unique(dados$Mandato_parcial),col = cores))
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1400,0.9,lty=c(1,1),c('José Sarney','Fernando Collor','Itamar Franco','Fernando Henrique Cardoso I',
'Fernando Henrique Cardoso II','Luiz Inácio Lula da Silva I',
'Luiz Inácio Lula da Silva II',
'Dilma Rousseff I',
'Dilma Rousseff II',
'Michel Temer',
'Jair Bolsonaro'),col = cores)
mandato2
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1400,0.9,lty=c(1,1),col = cores)
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1400,0.9,lty=c(1,rep(1,11)),c(unique(mandato2)),col = cores)
dados <- dados%>%mutate(Mandato = factor(Mandato, levels = c('José Sarney','Fernando Collor','Itamar Franco',
'Fernando Henrique Cardoso I','Fernando Henrique Cardoso II',
'Luiz Inácio Lula da Silva I','Luiz Inácio Lula da Silva II',
'Dilma Rousseff I','Dilma Rousseff II','Michel Temer',
'Jair Bolsonaro')))
dados <- dados%>%mutate(Mandato = factor(Mandato_parcial, levels = c('José Sarney','Fernando Collor','Itamar Franco',
'Fernando Henrique Cardoso I','Fernando Henrique Cardoso II',
'Luiz Inácio Lula da Silva I','Luiz Inácio Lula da Silva II',
'Dilma Rousseff I','Dilma Rousseff II','Michel Temer',
'Jair Bolsonaro')))
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1400,0.9,lty=c(1,1),c('José Sarney','Fernando Collor','Itamar Franco','Fernando Henrique Cardoso I',
'Fernando Henrique Cardoso II','Luiz Inácio Lula da Silva I',
'Luiz Inácio Lula da Silva II',
'Dilma Rousseff I',
'Dilma Rousseff II',
'Michel Temer',
'Jair Bolsonaro'),col = cores)
View(dados)
###dados
dados <- read_xlsx('LISTA_POLITICAS_20_04_2023.xlsx')
dados <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'José Sarney',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],
if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[3],
if_else(Mandato == 'Fernando Henrique Cardoso I',Data - inicio_mandatos[4],
if_else(Mandato == 'Fernando Henrique Cardoso II',Data - inicio_mandatos[5],
if_else(Mandato == 'Luiz Inácio Lula da Silva I',Data - inicio_mandatos[6],
if_else(Mandato == 'Luiz Inácio Lula da Silva II',Data - inicio_mandatos[7],
if_else(Mandato == 'Dilma Rousseff I',Data - inicio_mandatos[8],
if_else(Mandato == 'Dilma Rousseff II',Data - inicio_mandatos[9],
if_else(Mandato == 'Michel Temer',Data - inicio_mandatos[10],
if_else(Mandato == 'Jair Bolsonaro',Data - inicio_mandatos[11],NA))))))))))))%>%
mutate(Tempo_dias = as.numeric(Tempo_dias))%>%
mutate(Censura = rep(1,531))%>%
select(-c(Política,Ano,Data))%>%
rename(Mandato_parcial = Mandato)
dados <- dados%>%mutate(Mandato_parcial = factor(Mandato_parcial, levels = c('José Sarney','Fernando Collor','Itamar Franco',
'Fernando Henrique Cardoso I','Fernando Henrique Cardoso II',
'Luiz Inácio Lula da Silva I','Luiz Inácio Lula da Silva II',
'Dilma Rousseff I','Dilma Rousseff II','Michel Temer',
'Jair Bolsonaro')))
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1400,0.9,lty=c(1,1),c('José Sarney','Fernando Collor','Itamar Franco','Fernando Henrique Cardoso I',
'Fernando Henrique Cardoso II','Luiz Inácio Lula da Silva I',
'Luiz Inácio Lula da Silva II',
'Dilma Rousseff I',
'Dilma Rousseff II',
'Michel Temer',
'Jair Bolsonaro'),col = cores)
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1400,0.9,lty=c(1,1),c('José Sarney','Fernando Collor','Itamar Franco','Fernando Henrique Cardoso I',
'Fernando Henrique Cardoso II','Luiz Inácio Lula da Silva I',
'Luiz Inácio Lula da Silva II',
'Dilma Rousseff I',
'Dilma Rousseff II',
'Michel Temer',
'Jair Bolsonaro'),col = cores,cex = 1)
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1400,0.9,lty=c(1,1),c('José Sarney','Fernando Collor','Itamar Franco','Fernando Henrique Cardoso I',
'Fernando Henrique Cardoso II','Luiz Inácio Lula da Silva I',
'Luiz Inácio Lula da Silva II',
'Dilma Rousseff I',
'Dilma Rousseff II',
'Michel Temer',
'Jair Bolsonaro'),col = cores,cex = 0.2)
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1400,0.9,lty=c(1,1),c('José Sarney','Fernando Collor','Itamar Franco','Fernando Henrique Cardoso I',
'Fernando Henrique Cardoso II','Luiz Inácio Lula da Silva I',
'Luiz Inácio Lula da Silva II',
'Dilma Rousseff I',
'Dilma Rousseff II',
'Michel Temer',
'Jair Bolsonaro'),col = cores,cex = 0.5)
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1300,0.9,lty=c(1,1),c('José Sarney','Fernando Collor','Itamar Franco','Fernando Henrique Cardoso I',
'Fernando Henrique Cardoso II','Luiz Inácio Lula da Silva I',
'Luiz Inácio Lula da Silva II',
'Dilma Rousseff I',
'Dilma Rousseff II',
'Michel Temer',
'Jair Bolsonaro'),col = cores,cex = 0.5)
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1300,0.9,lty=c(1,1),c('José Sarney','Fernando Collor','Itamar Franco','Fernando Henrique Cardoso I',
'Fernando Henrique Cardoso II','Luiz Inácio Lula da Silva I',
'Luiz Inácio Lula da Silva II',
'Dilma Rousseff I',
'Dilma Rousseff II',
'Michel Temer',
'Jair Bolsonaro'),col = cores,cex = 0.55)
area <- dados%>%pull(Área)
ekm <- survfit(Surv(dias,censura)~area, conf.int = F)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier')
area <- dados%>%pull(Área)
ekm <- survfit(Surv(dias,censura)~area, conf.int = F)
cores <- rainbow(22)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),col = cores)
View(dados)
###
mod <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ dados$Mandato_parcial + dados$Área)
?coxph
###
mod <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ factor(dados$Mandato_parcial + dados$Área))
###
mod <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ factor(dados$Mandato_parcial) + factor(dados$Área))
###
mod <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ factor(dados$Mandato_parcial))
###
mod <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ factor(dados$Mandato_parcial) + factor(dados$Área))
summary(modcharlegis)
summary(mod)
mod <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ dados$Mandato_parcial + dados$Área)
summary(mod)
mandato2 <- dados%>%pull(Mandato_parcial)
ekm <- survfit(Surv(dias,censura)~mandato2, conf.int = F)
cores <- rainbow(11)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),
col = cores)
legend(1300,0.9,lty=c(1,1),c('José Sarney','Fernando Collor','Itamar Franco','Fernando Henrique Cardoso I',
'Fernando Henrique Cardoso II','Luiz Inácio Lula da Silva I',
'Luiz Inácio Lula da Silva II',
'Dilma Rousseff I',
'Dilma Rousseff II',
'Michel Temer',
'Jair Bolsonaro'),col = cores,cex = 0.55)
area <- dados%>%pull(Área)
ekm <- survfit(Surv(dias,censura)~area, conf.int = F)
cores <- rainbow(22)
plot(ekm,conf.int = F,xlab="Tempo (em dias)", ylab="S(t)", main = 'Kaplan-Meier',lty = c(1,rep(1,11)),col = cores)
cox.zph(mod)
View(dados2)
if (!require("pacman")) install.packages("pacman")
pacman::p_load('tidyverse','readxl','data.table',
'writexl','lubridate','survival')
###dados
dados <- read_xlsx('LISTA_POLITICAS_20_04_2023.xlsx')
dados <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'José Sarney',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],
if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[3],
if_else(Mandato == 'Fernando Henrique Cardoso I',Data - inicio_mandatos[4],
if_else(Mandato == 'Fernando Henrique Cardoso II',Data - inicio_mandatos[5],
if_else(Mandato == 'Luiz Inácio Lula da Silva I',Data - inicio_mandatos[6],
if_else(Mandato == 'Luiz Inácio Lula da Silva II',Data - inicio_mandatos[7],
if_else(Mandato == 'Dilma Rousseff I',Data - inicio_mandatos[8],
if_else(Mandato == 'Dilma Rousseff II',Data - inicio_mandatos[9],
if_else(Mandato == 'Michel Temer',Data - inicio_mandatos[10],
if_else(Mandato == 'Jair Bolsonaro',Data - inicio_mandatos[11],NA))))))))))))%>%
mutate(Tempo_dias = as.numeric(Tempo_dias))%>%
mutate(Censura = rep(1,531))%>%
select(-c(Política,Ano,Data))%>%
rename(Mandato_parcial = Mandato)
View(dados)
inicio_mandatos <- c(as.Date('1985-03-15'),as.Date('1990-03-15'),as.Date('1992-12-29'),
as.Date('1995-01-01'),as.Date('1999-01-01'),as.Date('2003-01-01'),
as.Date('2007-01-01'),as.Date('2011-01-01'),as.Date('2015-01-01'),
as.Date('2016-08-31'),as.Date('2019-01-01'))
dados <- dados%>%
mutate(Data = as.Date(Data,format = '%d/%m/%Y'))%>%
mutate(Tempo_dias = if_else(Mandato == 'José Sarney',Data - inicio_mandatos[1],
if_else(Mandato == 'Fernando Collor',Data - inicio_mandatos[2],
if_else(Mandato == 'Itamar Franco',Data - inicio_mandatos[3],
if_else(Mandato == 'Fernando Henrique Cardoso I',Data - inicio_mandatos[4],
if_else(Mandato == 'Fernando Henrique Cardoso II',Data - inicio_mandatos[5],
if_else(Mandato == 'Luiz Inácio Lula da Silva I',Data - inicio_mandatos[6],
if_else(Mandato == 'Luiz Inácio Lula da Silva II',Data - inicio_mandatos[7],
if_else(Mandato == 'Dilma Rousseff I',Data - inicio_mandatos[8],
if_else(Mandato == 'Dilma Rousseff II',Data - inicio_mandatos[9],
if_else(Mandato == 'Michel Temer',Data - inicio_mandatos[10],
if_else(Mandato == 'Jair Bolsonaro',Data - inicio_mandatos[11],NA))))))))))))%>%
mutate(Tempo_dias = as.numeric(Tempo_dias))%>%
mutate(Censura = rep(1,531))%>%
select(-c(Política,Ano,Data))%>%
rename(Mandato_parcial = Mandato)
dados <- dados%>%mutate(Mandato_parcial = factor(Mandato_parcial, levels = c('José Sarney','Fernando Collor','Itamar Franco',
'Fernando Henrique Cardoso I','Fernando Henrique Cardoso II',
'Luiz Inácio Lula da Silva I','Luiz Inácio Lula da Silva II',
'Dilma Rousseff I','Dilma Rousseff II','Michel Temer',
'Jair Bolsonaro')))
dados <- dados%>%
mutate(Mandato_completo = case_when(
(Mandato_parcial == 'Fernando Henrique Cardoso I'| Mandato_parcial == 'Fernando Henrique Cardoso II')~'FHC',
(Mandato_parcial == 'Luiz Inácio Lula da Silva I'| Mandato_parcial == 'Luiz Inácio Lula da Silva II')~ 'Lula',
(Mandato_parcial == 'Dilma Rousseff I'| Mandato_parcial == 'Dilma Rousseff II') ~ 'Dilma',
(Mandato_parcial == 'Michel Temer') ~ 'Temer',
(Mandato_parcial == 'Itamar Franco') ~ 'Itamar Franco',
(Mandato_parcial == 'Jair Bolsonaro') ~ 'Bolsonaro',
(Mandato_parcial == 'José Sarney') ~ 'Sarney',
(Mandato_parcial == 'Fernando Collor') ~ 'Collor'))
View(dados)
###análises
dados <- read_excel('Dataset_para_analises.xlsx')
dias <- dados%>%pull(Tempo_dias)
censura <- dados%>%pull(Censura)
View(dados)
###
mod <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ factor(dados$Mandato_parcial) + factor(dados$Área))
mod <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ dados$Mandato_parcial + dados$Área)
###
mod <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ factor(dados$Mandato_parcial) + factor(dados$Área))
mod2 <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ dados$Mandato_parcial + dados$Área)
cox.zph(mod)
cox.zph(mod2)
View(dados)
mod2 <- coxph(Surv(dados$Tempo_dias, dados$Censura) ~ (dados$Mandato_parcial + dados$Área))
cox.zph(mod2)
summary(mod)
